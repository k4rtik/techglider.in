<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Input/Output using Text Files Without Diving into File Handling &#183; The TechGlider</title><link rel=stylesheet href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600" type=text/css><link rel=stylesheet href=https://techglider.in/libraries/normalize.3.0.1.css><link rel=stylesheet href=https://techglider.in/css/liquorice.css><link rel="shortcut icon" href=/favicon.ico><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js></script>
<script>hljs.initHighlightingOnLoad()</script></head><body class=li-body><style type=text/css>input.gsc-input,.gsc-input-box,.gsc-input-box-hover,.gsc-input-box-focus,.gsc-search-button{box-sizing:content-box;line-height:normal}.gs-title{line-height:normal}table.gsc-table-result{border-collapse:separate}.gsc-input-box input{color:#000}.gsc-control-cse{padding:.1em 0 .5em 1em!important;width:14em!important;float:right;line-height:normal}input.gsc-search-button-v2{padding:6px 12px!important}.gsc-search-box-tools .gsc-search-box .gsc-input{padding-right:1px!important}</style><header class=li-page-header><div class=container><div class=row><div class="sixteen columns"><div class="li-brand li-left"><a href=https://techglider.in/>The TechGlider</a></div><div class="li-menu li-right"><span class=li-menu-icon onclick='toggle("menu")'>&#9776;</span><ul id=menu2 class=li-menu-items><li><a href=/post>Posts</a></li><li><a href=/quote>Quotes</a></li><li><a href=/status>Statuses</a></li><li><a href=/about>About</a></li><li><script>(function(){var t,n="partner-pub-4463712641758053:o1e85jn1rm4",e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=(document.location.protocol=="https:"?"https:":"http:")+"//www.google.com/cse/cse.js?cx="+n,t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script><gcse:search></gcse:search></li></ul></div></div></div><div class=row><div class="sixteen columns"><ul id=menu class="li-menu-items li-menu-mobile"><li><a href=/post>Posts</a></li><li><a href=/quote>Quotes</a></li><li><a href=/status>Statuses</a></li><li><a href=/about>About</a></li><li><gcse:search></gcse:search></li></ul></div></div></div></header><div class=container><div class=row><div class="sixteen columns"><article class=li-article><header class=li-article-header><h1 class=li-article-title>Input/Output using Text Files Without Diving into File Handling</h1><time class=li-article-date>Thursday, February 10, 2011</time></header><section><p>It&rsquo;s quite easy to use text files as input source or to redirect the output of programs to files if you happen to do programming on a unix/linux terminal.</p><p>Let&rsquo;s take an example of a usual random number generator:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#75715e>// random.c
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdio.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdlib.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span> ()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> i, count<span style=color:#f92672>=</span><span style=color:#ae81ff>99999999</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> count; i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>                printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, (<span style=color:#66d9ef>int</span>)random());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Let&rsquo;s generate an executable by the name <code>random.out</code> for this program:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ gcc random.c -o random.out
</span></span></code></pre></div><p>Then, to redirect it&rsquo;s output we can use output redirection offered by the bash shell (<em>tip</em>: reduce the value of count in the code above if you don&rsquo;t want to generate a 1 GiB file and waste both time and disk space):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ ./random.out &gt; randout.txt
</span></span></code></pre></div><p>The > (greater than symbol) redirects the standard output to the file named <code>randout.txt</code>.</p><p>To use a file as input source, the &lt; (less than symbol) is used, e.g.:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ ./quicksort.out &lt; randout.txt
</span></span></code></pre></div><p>You can also combine both redirections:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ ./quicksort.out &lt; randout.txt &gt; sortedfile.txt
</span></span></code></pre></div><p>Another nifty concept is pipelining (or piping), which can be used to redirect output from a program as input of another, for example, to generate random numbers on fly and feed them to my quicksort program I can do:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ ./random.out | ./quicksort.out &gt; sortedfile.txt
</span></span></code></pre></div><p>In the above, input source files is not specified as required number of inputs are taken directly from random program. | (vertical pipeline symbol) enables this functionality.</p><p>The program which you create for using these text files should just be able to receive the input and return the output separated by newline characters. Using a for loop for taking definite number of inputs is preferred.</p><p><em>See also</em>: <a href=http://en.wikipedia.org/wiki/Redirection_%28computing%29>Redirection on Wikipedia</a></p><p>Don&rsquo;t hesitate to leave a comment if this post helped you.</p><p><strong>EDIT (2011-02-24):</strong> Got into trouble while using this method for taking input in my DSA lab last week. Apparently this works only if the for loop for taking input does just that - input iteratively in an array - and nothing else. While calling insert function in a binary search tree implementation along with the scanf inside the input loop lead to weird input to the program. File handling seems to be the only solution in this situation. Though if you find any explanation for this behavior of bash shell, please do share in the comments.</p></section><span class=li-article-taxonomies>Posted
in
<a href=https://techglider.in/categories/post>post</a>
with tags
<a href=https://techglider.in/tags/commands>commands</a>
<a href=https://techglider.in/tags/gnu/linux>gnu/linux</a>
<a href=https://techglider.in/tags/informative>Informative</a>
<a href=https://techglider.in/tags/programming>programming</a>
<a href=https://techglider.in/tags/terminal>terminal</a></span></article></div></div><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="techglider",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><div class="row li-pagination"><div class="eight columns"><div class=li-pagination-previous>Later article<br><a href=https://techglider.in/post/2011/02/01/accessing-nit-calicuts-ubuntu-mirror-in-the-campus/>Accessing NIT Calicut's Ubuntu Mirror (in the campus)</a></div></div><div class="eight columns"><div class=li-pagination-next>Older article<br><a href=https://techglider.in/status/2011/02/25/wow-just-noticed-my-blog-reached-over-a/>Wow Just noticed my blog reached over a...</a></div></div></div></div><footer class=li-page-footer><div class=container><div class=row><div class="sixteen columns"><div class=li-page-footer-legal>Copyright Â© 2008-2022 Kartik Singhal.</div><div class=li-page-footer-theme><span>Built with <a href=http://gohugo.io>Hugo</a> & <a href=https://github.com/k4rtik/liquorice/>liquorice</a></span></div></div></div></div></footer><script type=text/javascript>function toggle(t){var e=document.getElementById(t);e.style.display=="block"?e.style.display="none":e.style.display="block"}</script><script type=text/javascript>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57213074-1"]),_gaq.push(["_trackPageview"]),function(){var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)}()</script></body></html>